function add_pjt(){flag_pjt<=10&&($("#pjt_box").append('<div><label>面相標題：</label><input class="input" type="text" id="pjt_name_'+flag_pjt+'"></div><div><label>面相說明：</label><input class="input" type="text" id="pjt_dec_'+flag_pjt+'"></div>'),flag_pjt++)}function pjt_load(){var e,l,t="";for(let _=1;_<flag_pjt;_++)e=$("#pjt_name_"+_.toString()).val(),l=$("#pjt_dec_"+_.toString()).val(),null==e&&null==l||(t=t+"/"+e+":"+l);return $("#pjt_array").attr("value",t),!0}function php_subject_load(e,l){for(const[t,_]of Object.entries(l))null!=t&&null!=_&&(object[e][t]=_)}function subject_add(e){object[e].length<=10&&(object[e][object[e].length]=["",""],$("#pjt_box"+e.toString()).html(""),gen_subject(e))}function gen_subject(e){for(var l="",t="",_=1;_<=10;_++)if(null!=object[e][_])for(const[s,c]of Object.entries(object[e][_]))0==s?l=c:1==s&&(t=c,$("#pjt_box"+e.toString()).append('<div id="prj_frame'+e.toString()+'" style="border:solid 2px #000; padding:4px;"><div onclick="subject_remove(\''+e.toString()+"','#prj_frame"+e.toString()+"', "+_+')" style="float:right; display:block; text-align:right;">&times;</div><div><label>面相標題：</label><input class="input" value="'+l+'" type="text" id="pjt_name_'+e+"_"+_+'" required></div><div><label>面相說明：</label><input class="input" value="'+t+'" type="text" id="pjt_dec_'+e+"_"+_+'" required></div></div>'))}function subject_remove(e,l,t){$(l).remove(),object[e].splice(t,1);var _=[],s=[];for(let l=1;l<=10;l++)l!=t&&(_[l]=$("#pjt_name_"+e.toString()+"_"+l).val(),s[l]=$("#pjt_dec_"+e.toString()+"_"+l).val(),null!=_[l]&&null!=s[l]&&delete object[e][t]);null!=_[1]&&null!=s[1]&&php_subject_load(e,{1:[_[1],s[1]]}),null!=_[2]&&null!=s[2]&&php_subject_load(e,{2:[_[2],s[2]]}),null!=_[3]&&null!=s[3]&&php_subject_load(e,{3:[_[3],s[3]]}),null!=_[4]&&null!=s[4]&&php_subject_load(e,{4:[_[4],s[4]]}),null!=_[5]&&null!=s[5]&&php_subject_load(e,{5:[_[5],s[5]]}),null!=_[6]&&null!=s[6]&&php_subject_load(e,{6:[_[6],s[6]]}),null!=_[7]&&null!=s[7]&&php_subject_load(e,{7:[_[7],s[7]]}),null!=_[8]&&null!=s[8]&&php_subject_load(e,{8:[_[8],s[8]]}),null!=_[9]&&null!=s[9]&&php_subject_load(e,{9:[_[9],s[9]]}),null!=_[10]&&null!=s[10]&&php_subject_load(e,{10:[_[10],s[10]]}),$("#pjt_box"+e.toString()).empty(),gen_subject(e)}function subject_load(e){var l,t,_="";for(let s=1;s<=10;s++)l=$("#pjt_name_"+e.toString()+"_"+s).val(),t=$("#pjt_dec_"+e.toString()+"_"+s).val(),null==l&&null==t||(_=_+"/"+l+":"+t);return $("#pjt_array_"+e.toString()).attr("value",_),!0}$(function(){$("#create_user").click(function(){$("#user_card_bg").show(),$("#user_card").show()}),$("#close_user_card").click(()=>{$("#user_card_bg").hide(),$("#user_card").hide()}),$("#delete_user").click(()=>{$("#delete_users").show(),$("#delete_users_bg").show()}),$("#close_delete_users").click(()=>{$("#delete_users").hide(),$("#delete_users_bg").hide()}),$("#edit_user").click(()=>{$("#edit_users").show(),$("#edit_users_bg").show()}),$("#close_edit_users").click(()=>{$("#edit_users").hide(),$("#edit_users_bg").hide()}),$("#cp").click(()=>{$("#cps").show(),$("#cps_bg").show()}),$("#close_cps").click(()=>{$("#cps").hide(),$("#cps_bg").hide()}),$("#epm").click(()=>{$("#epms").show(),$("#epms_bg").show()}),$("#close_epms").click(()=>{$("#epms").hide(),$("#epms_bg").hide()}),$("#apm").click(()=>{$("#apms").show(),$("#apms_bg").show()}),$("#close_apms").click(()=>{$("#apms").hide(),$("#apms_bg").hide()}),$("#ep").click(()=>{$("#eps").show(),$("#eps_bg").show()}),$("#close_eps").click(()=>{$("#eps").hide(),$("#eps_bg").hide()}),$("#dp").click(()=>{$("#dps").show(),$("#dps_bg").show()}),$("#close_dps").click(()=>{$("#dps").hide(),$("#dps_bg").hide()})});var flag_pjt=2,object=[];